<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Card</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        .card-container {

    max-width: 100vw;
    top: 50%;
    margin: 0 auto;
    position: relative;
    transform: translateY(370%);
}

        .user-details {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1;
            text-align: center;
            color: white;
        }

        .user-details input {
            margin-bottom: 10px;
        }

        .card-image {
            width: 100%;
            border-radius: 5px;
        }
        .overlay-image {
            position: absolute;
            top: 25%;
            left: 8.1%;
            width: 52%; 
            height: 50%; 
            background-image: url('images/card/card2/Frame1.PNG');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center center;
            z-index: 1; 
        }
        .overlay-text {
            position: absolute;
            width: 10vw;
            height: 10vh; 
            z-index: 1; 
        }
        .input {
            position: absolute;
            right: 3vw;
            height: 5vh;
            width: 18vw;
            background-color: blueviolet;
            border: none;
            outline: none;
            text-align: right; 
            caret-color: #5BFFD8;
            font-size: 2em;
            color: #5BFFD8;
            font-family: 'Love Ya Like A Sister', cursive;
        }
        #fname{
            top: 14vh;

        }

        #fdate{
            top: 21vh;
            width: 15.5vw;
          
        }

        #fbirth{
            top: 28vh;
            width: 15.5vw;
            
        }

        #fgoal{
            top: 34vh;
            
        }

        #fstrength{
            top: 41vh;
           
        }
    </style>
</head>
<body>
    <div class="card-container">
        <canvas id="userCanvas" width="690px" height="488px"></canvas>
        <div class="user-details">
            <form id="userForm">
                <!-- <input type="text" class="form-control" id="fname" name="fname" placeholder="Full Name" required>
                <input type="email" class="form-control" id="email" name="email" placeholder="Email" required>
                <input type="file" class="form-control" id="uploadImage" name="uploadImage" accept="image/*" required> -->
                        
                            <div class="overlay-text">
                                <input type="text"  class="input" id="fname" name="fname">
                                <!-- <input type="date"  class="input" id="fdate" name="fdate">
                                <input type="date"  class="input" id="fbirth"  name="fbirth"> -->
                                <input type="text"  class="input" id="fgoal" name="fgoal">
                                <input type="text"  class="input" id="fstrength" name="fstrength">
                            </div>
                            <img src="images/card/card2/Card.PNG" style="width: 100%;" />
                        
                   
               
                <button type="submit" class="btn btn-primary" style="margin-top: 200px; z-index: 2000;">Save Card</button>
            </form>
        </div>
    </div>

    <script>
        document.getElementById('userForm').addEventListener('submit', function(event) {
            event.preventDefault();
            let formData = new FormData(this);
            let fullName = formData.get('fname');
            let goal = formData.get('fgoal');
            let strengt = formData.get('fstrength');

            let canvas = document.getElementById('userCanvas');
            let ctx = canvas.getContext('2d');

            // Load background image
            let bgImage = new Image();
            bgImage.onload = function() {
                // Draw background image
                ctx.drawImage(bgImage, 0, 0, canvas.width, canvas.height);

                // Add user data
                ctx.fillStyle = '#5BFFD8';
                // ctx.font = '20px Arial';
                ctx.fillText(fullName, 50, 50); // Display name
                ctx.fillText(goal, 50, 80); // Display email
                ctx.fillText(strengt, 50, 80); // Display email

                // Save image
                let dataURL = canvas.toDataURL('image/png');
                let downloadLink = document.createElement('a');
                downloadLink.href = dataURL;
                downloadLink.download = 'user_card_image.png';
                downloadLink.click();

                alert("User card saved successfully!");
            };

            bgImage.src = 'images/card/card2/Card.PNG'; // Load background image
        });
    </script>
</body>
</html>
